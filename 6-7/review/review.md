# Расширение отчета для программы на оценку 4-5


### Сущности и их поведение
1. **Монитор**:
 - Отдельный клиент, подключающийся к серверу для наблюдения за состоянием системы.
 - Получает и отображает все события, связанные с базой данных:
 - - Состояние БД (`DB [values]`).
 - - Операции чтения (`READ index value`).
 - - Операции записи (`WRITE index old_value new_value`).
 - Обеспечивает комплексный обзор работы системы, заменяя необходимость проверки логов сервера, читателей и писателей.

### Описание сущностей
1. **Монитор**
- Реализует комплексное наблюдение за системой, подключаясь к серверу через TCP-сокет.
- Отправляет команду MONITOR для регистрации в качестве наблюдателя.
- Получает от сервера сообщения о состоянии системы:
- - DB [values]: Текущее состояние базы данных (массив чисел).
- - READ index value: Операция чтения, выполненная читателем.
- - WRITE index old_value new_value: Операция записи, выполненная писателем.
- Обрабатывает сообщения построчно, парся их с помощью sscanf для извлечения индексов, значений и других параметров.
- Выводит информацию в консоль в структурированном виде:
- - Состояние БД: Database: [values].
- - События чтения: Reader: Index X, Value Y.
- - События записи: Writer: Index X, Old Value Y, New Value Z.
- Использует неблокирующие сокеты (O_NONBLOCK) и select для асинхронного чтения данных.
- Устойчив к разрывам соединения: переподключается каждые 2 секунды при сбоях.


### Дополнение к запуску
```bash
Сервер: ./server 127.0.0.1 8080
Клиент-читатель: ./reader_client 127.0.0.1 8080 3
Клиент-писатель: ./writer_client 127.0.0.1 8080 2 
Клиент-монитор: ./monitor_client 127.0.0.1 8080
```

### Пример вывода монитора
```
Monitor: Connected to server
Monitor: Received: 'DB [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]'
Monitor: Database: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
Monitor: Received: 'READ index 7 value 8'
Monitor: Reader: Index 7, Value 8
Monitor: Received: 'WRITE index 3 old_value 4 new_value 42'
Monitor: Writer: Index 3, Old Value 4, New Value 42
Monitor: Received: 'DB [1, 2, 3, 42, 5, 6, 7, 8, 9, 10]'
Monitor: Database: [1, 2, 3, 42, 5, 6, 7, 8, 9, 10]
```